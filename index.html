<!-- =========================
     MENU (APENAS DESKTOP — 2 COLUNAS FIXAS)
     (APENAS MENU: HTML + CSS + JS)
========================= -->

<!-- Desktop nav (2 colunas fixas) -->
<div class="nav">
  <!-- Coluna 1 -->
  <div class="col col1">
    <!-- CATEGORIAS -->
    <button class="nav-item" data-nav="cat:BB" type="button" onclick="Menu.openCategory('BB_com_Consultation_Information')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/f52a6b2a5834a5d3e175ff2ae37c4783e0872c3b/images/BB.com_Consultation_Information.png" alt="">
      <div class="title">BB.com_Consultation_Information</div>
    </button>

    <button class="nav-item" data-nav="cat:TECH" type="button" onclick="Menu.openCategory('Technical_requests_BR')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Technical%20requests%20BR.svg" alt="">
      <div class="title">Technical requests BR</div>
    </button>

    <div class="divider"></div>

    <!-- ATALHOS (itens que abrem seção direto) -->
    <button class="nav-item" data-nav="form:email" type="button" onclick="Menu.openForm('email')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Second_Line.svg" alt="">
      <div class="title">Mudar E-mail</div>
    </button>

    <button class="nav-item" data-nav="form:phone" type="button" onclick="Menu.openForm('phone')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Second_Line.svg" alt="">
      <div class="title">Mudar Telefone</div>
    </button>

    <button class="nav-item" data-nav="form:withdrawal" type="button" onclick="Menu.openForm('withdrawal')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Technical%20requests%20BR.svg" alt="">
      <div class="title">Comprovante de Saque</div>
    </button>

    <button class="nav-item" data-nav="form:withdraw" type="button" onclick="Menu.openForm('withdraw')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Technical%20requests%20BR.svg" alt="">
      <div class="title">Valor para Saque</div>
    </button>

    <button class="nav-item" data-nav="form:unlock" type="button" onclick="Menu.openForm('unlock')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Technical%20requests%20BR.svg" alt="">
      <div class="title">Desbloquear Conta</div>
    </button>

    <button class="nav-item" data-nav="form:wager" type="button" onclick="Menu.openForm('wager')">
      <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Technical%20requests%20BR.svg" alt="">
      <div class="title">Valor no Wager</div>
    </button>
  </div>

  <!-- Coluna 2 (submenus) -->
  <div class="col col2" id="col2">

    <div id="sec_BB_com_Consultation_Information" style="display:none;">
      <button class="nav-item" data-nav="sub:second_line" type="button" onclick="Menu.openSub('second_line', 'BB_com_Consultation_Information')">
        <img src="https://raw.githubusercontent.com/dertus/demandas/refs/heads/main/images/Second_Line.svg" alt="">
        <div class="title">Second Line</div>
      </button>
    </div>

    <div id="sec_Technical_requests_BR" style="display:none;">
      <!-- sem itens -->
    </div>
  </div>
</div>


<!-- =========================
     CSS DO MENU (apenas)
========================= -->
<style>
  :root{
    --m-bg:#2c2c2c;           /* mesma cor nas 2 colunas */
    --m-hover:#444;
    --m-active:#3d3d3d;
    --m-accent:#2aabee;
    --m-divider:#444;
    --m-text:#fff;
  }

  /* Desktop nav (2 colunas fixas) */
  .nav{ position:fixed; left:0; top:0; height:100vh; display:flex; z-index:5; }
  .col{
    width:260px; height:100vh; background:var(--m-bg); color:var(--m-text);
    overflow-y:auto; padding:12px 0;
  }
  .col1{ border-right:1px solid rgba(255,255,255,.06); }

  .divider{ height:1px; background:var(--m-divider); margin:10px 14px; }

  /* Itens: ícone à esquerda e nome completo à direita (um abaixo do outro) */
  .nav-item{
    width:100%; border:none; background:transparent; color:var(--m-text);
    cursor:pointer; padding:10px 14px;
    display:flex; align-items:center; gap:10px; text-align:left;
  }
  .nav-item:hover{ background:var(--m-hover); }
  .nav-item img{ width:30px; height:30px; border-radius:8px; flex:0 0 auto; }
  .nav-item .title{ font-size:13px; font-weight:800; line-height:1.15; }

  /* Ativo (categoria e subitem) */
  .nav-item.active{
    background:var(--m-active);
    box-shadow: inset 3px 0 0 var(--m-accent);
  }
</style>


<!-- =========================
     JS DO MENU (apenas)
========================= -->
<script>
  // Integração esperada no seu projeto:
  // function closeAllSections() { ... }  // fecha/limpa conteúdo atual
  // function showSection(id) { ... }     // abre a seção do formulário pelo ID

  const Menu = (() => {
    const DESKTOP_SUBS = [
      'sec_BB_com_Consultation_Information',
      'sec_Technical_requests_BR'
    ];

    function closeFormsAndCleanup(){
      if (typeof closeAllSections === 'function') closeAllSections();
    }

    function clearActive(){
      document.querySelectorAll('.nav-item.active')
        .forEach(b => b.classList.remove('active'));
    }

    function setActive(selector){
      document.querySelectorAll(selector)
        .forEach(b => b.classList.add('active'));
    }

    function clearDesktopSubmenus(){
      DESKTOP_SUBS.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.style.display = 'none';
      });
    }

    function openCategory(catId){
      // ao trocar item/categoria: fecha/limpa conteúdo atual
      closeFormsAndCleanup();

      clearActive();

      // destaca categoria
      if (catId === 'BB_com_Consultation_Information') setActive('[data-nav="cat:BB"]');
      if (catId === 'Technical_requests_BR') setActive('[data-nav="cat:TECH"]');

      // abre submenu na coluna 2
      clearDesktopSubmenus();
      const sec = document.getElementById('sec_' + catId);
      if (sec) sec.style.display = 'block';
    }

    function openForm(sectionId){
      // ao trocar item/categoria: fecha/limpa conteúdo atual
      closeFormsAndCleanup();

      // abre form
      if (typeof showSection === 'function') showSection(sectionId);

      clearActive();
      clearDesktopSubmenus(); // ao abrir atalho direto, limpa coluna 2
      setActive(`[data-nav="form:${sectionId}"]`);
    }

    function openSub(sectionId, catId){
      // ao trocar item/categoria: fecha/limpa conteúdo atual
      closeFormsAndCleanup();

      // abre sub/form
      if (typeof showSection === 'function') showSection(sectionId);

      clearActive();

      // mantém categoria e marca subitem
      if (catId === 'BB_com_Consultation_Information') setActive('[data-nav="cat:BB"]');
      if (catId === 'Technical_requests_BR') setActive('[data-nav="cat:TECH"]');

      // marca sub (neste exemplo só existe um)
      setActive('[data-nav="sub:second_line"]');
    }

    return { openCategory, openForm, openSub };
  })();
</script>
